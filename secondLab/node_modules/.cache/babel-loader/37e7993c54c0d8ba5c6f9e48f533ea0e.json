{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\idontmind\\\\Desktop\\\\web-labs-sem7-master\\\\lab2\\\\src\\\\components\\\\Favorite\\\\FavoriteCity.js\";\nimport React, { Component } from 'react';\nimport { FavoriteCityHeader } from \"./FavoriteCityHeader\";\nimport { CityInfo } from \"../CityCommon/CityInfo\";\nimport UpdateCity from \"../../actions/UpdateCity\";\nimport LoadCity from \"../../actions/LoadCity\";\nimport DeleteCity from \"../../actions/DeleteCity\";\nimport { connect } from \"react-redux\";\nexport class FavoriteCity extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: false,\n      download: !Boolean(props.cityInfo)\n    };\n\n    if (!props.cityInfo) {\n      props.update(props.name);\n    }\n  }\n\n  render() {\n    let cityInfo = this.state.error ? React.createElement(\"div\", {\n      className: \"title-sm text-secondary ml-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, \"\\u041E\\u0439...\") : !this.state.download ? React.createElement(CityInfo, {\n      data: this.props.cityInfo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"spinner-border text-secondary ml-5 m-1 spin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex flex-row align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(FavoriteCityHeader, {\n      name: this.props.name,\n      data: this.props.cityHeader,\n      download: this.state.download,\n      error: this.state.error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"ml-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-circle btn-secondary\",\n      onClick: this.props.update.bind(null, this.props.name),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \"\\u21BA\"), React.createElement(\"button\", {\n      className: \"btn btn-circle btn-secondary\",\n      onClick: this.props.delete.bind(null, this.props.name),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"X\"))), cityInfo);\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      error: Boolean(props.error),\n      download: Boolean(props.download || !Boolean(props.cityInfo))\n    };\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    update: name => {\n      dispatch(UpdateCity(name));\n      dispatch(LoadCity(name));\n    },\n    delete: name => dispatch(DeleteCity(name))\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(FavoriteCity);","map":{"version":3,"sources":["C:/Users/idontmind/Desktop/web-labs-sem7-master/lab2/src/components/Favorite/FavoriteCity.js"],"names":["React","Component","FavoriteCityHeader","CityInfo","UpdateCity","LoadCity","DeleteCity","connect","FavoriteCity","constructor","props","state","error","download","Boolean","cityInfo","update","name","render","cityHeader","bind","delete","getDerivedStateFromProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {FavoriteCityHeader} from \"./FavoriteCityHeader\";\nimport {CityInfo} from \"../CityCommon/CityInfo\";\nimport UpdateCity from \"../../actions/UpdateCity\"\nimport LoadCity from \"../../actions/LoadCity\";\nimport DeleteCity from \"../../actions/DeleteCity\";\nimport {connect} from \"react-redux\";\n\n\nexport class FavoriteCity extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {error: false, download: !Boolean(props.cityInfo)};\n        if (!props.cityInfo) {\n            props.update(props.name);\n        }\n    }\n\n    render() {\n        let cityInfo = this.state.error\n            ? <div className={\"title-sm text-secondary ml-5\"}>Ой...</div>\n            : !this.state.download\n                ? <CityInfo data={this.props.cityInfo}/>\n                : <div><span className=\"spinner-border text-secondary ml-5 m-1 spin\"/></div>;\n        return <div>\n            <div className={\"d-flex flex-row align-items-center\"}>\n                <FavoriteCityHeader name={this.props.name} data={this.props.cityHeader} download={this.state.download} error={this.state.error}/>\n                <div className={\"ml-auto\"}>\n                    <button className={\"btn btn-circle btn-secondary\"} onClick={this.props.update.bind(null, this.props.name)}>↺</button>\n                    <button className={\"btn btn-circle btn-secondary\"} onClick={this.props.delete.bind(null, this.props.name)}>X</button>\n                </div>\n            </div>\n            {cityInfo}\n        </div>\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        return {error: Boolean(props.error), download: Boolean(props.download || !Boolean(props.cityInfo))}\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        update: (name) => {dispatch(UpdateCity(name));dispatch(LoadCity(name));},\n        delete: (name) => dispatch(DeleteCity(name))\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(FavoriteCity)"]},"metadata":{},"sourceType":"module"}