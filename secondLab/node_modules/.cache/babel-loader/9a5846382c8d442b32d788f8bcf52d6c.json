{"ast":null,"code":"import{applyMiddleware,createStore}from\"redux\";import reducer from\"../reducers/reducer\";import reduxpromise from\"redux-promise\";var initialState=JSON.parse(localStorage.getItem(\"cityList\"))||{cities:{}};var store=createStore(reducer,initialState,applyMiddleware(reduxpromise));store.subscribe(function(){localStorage.setItem(\"cityList\",JSON.stringify(store.getState(),function(key,value){if(key===\"error\"||key===\"download\"){return undefined;}else{return value;}}));});export default store;","map":{"version":3,"sources":["C:/Users/idontmind/Desktop/web-labs-sem7-master/lab2/src/store/store.js"],"names":["applyMiddleware","createStore","reducer","reduxpromise","initialState","JSON","parse","localStorage","getItem","cities","store","subscribe","setItem","stringify","getState","key","value","undefined"],"mappings":"AAAA,OAAQA,eAAR,CAAyBC,WAAzB,KAA2C,OAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,eAAzB,CAEA,GAAIC,CAAAA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,GAAgD,CAACC,MAAM,CAAG,EAAV,CAAnE,CACA,GAAIC,CAAAA,KAAK,CAAGT,WAAW,CAACC,OAAD,CAAUE,YAAV,CAAwBJ,eAAe,CAACG,YAAD,CAAvC,CAAvB,CAEAO,KAAK,CAACC,SAAN,CAAgB,UAAM,CAClBJ,YAAY,CAACK,OAAb,CAAqB,UAArB,CAAiCP,IAAI,CAACQ,SAAL,CAAeH,KAAK,CAACI,QAAN,EAAf,CAAiC,SAAUC,GAAV,CAAeC,KAAf,CAAsB,CACpF,GAAID,GAAG,GAAK,OAAR,EAAmBA,GAAG,GAAK,UAA/B,CAA2C,CACvC,MAAOE,CAAAA,SAAP,CACH,CAFD,IAEO,CACH,MAAOD,CAAAA,KAAP,CACH,CACJ,CANgC,CAAjC,EAOH,CARD,EAUA,cAAeN,CAAAA,KAAf","sourcesContent":["import {applyMiddleware, createStore} from \"redux\";\nimport reducer from \"../reducers/reducer\"\nimport reduxpromise from \"redux-promise\"\n\nlet initialState = JSON.parse(localStorage.getItem(\"cityList\")) || {cities : { }};\nlet store = createStore(reducer, initialState, applyMiddleware(reduxpromise));\n\nstore.subscribe(() => {\n    localStorage.setItem(\"cityList\", JSON.stringify(store.getState(), function (key, value) {\n        if (key === \"error\" || key === \"download\") {\n            return undefined\n        } else {\n            return value\n        }\n    }));\n});\n\nexport default store"]},"metadata":{},"sourceType":"module"}