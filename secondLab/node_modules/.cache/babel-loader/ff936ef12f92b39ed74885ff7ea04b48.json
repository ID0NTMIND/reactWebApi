{"ast":null,"code":"import { applyMiddleware, createStore } from \"redux\";\nimport reducer from \"../reducers/reducer\";\nimport reduxpromise from \"redux-promise\";\nlet initialState = JSON.parse(localStorage.getItem(\"cityList\")) || {\n  cities: {}\n};\nlet store = createStore(reducer, initialState, applyMiddleware(reduxpromise));\nstore.subscribe(() => {\n  localStorage.setItem(\"cityList\", JSON.stringify(store.getState(), function (key, value) {\n    if (key === \"error\" || key === \"download\") {\n      return undefined;\n    } else {\n      return value;\n    }\n  }));\n});\nexport default store;","map":{"version":3,"sources":["C:/Users/idontmind/Desktop/web-labs-sem7-master/lab2/src/store/store.js"],"names":["applyMiddleware","createStore","reducer","reduxpromise","initialState","JSON","parse","localStorage","getItem","cities","store","subscribe","setItem","stringify","getState","key","value","undefined"],"mappings":"AAAA,SAAQA,eAAR,EAAyBC,WAAzB,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AAEA,IAAIC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,KAAgD;AAACC,EAAAA,MAAM,EAAG;AAAV,CAAnE;AACA,IAAIC,KAAK,GAAGT,WAAW,CAACC,OAAD,EAAUE,YAAV,EAAwBJ,eAAe,CAACG,YAAD,CAAvC,CAAvB;AAEAO,KAAK,CAACC,SAAN,CAAgB,MAAM;AAClBJ,EAAAA,YAAY,CAACK,OAAb,CAAqB,UAArB,EAAiCP,IAAI,CAACQ,SAAL,CAAeH,KAAK,CAACI,QAAN,EAAf,EAAiC,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AACpF,QAAID,GAAG,KAAK,OAAR,IAAmBA,GAAG,KAAK,UAA/B,EAA2C;AACvC,aAAOE,SAAP;AACH,KAFD,MAEO;AACH,aAAOD,KAAP;AACH;AACJ,GANgC,CAAjC;AAOH,CARD;AAUA,eAAeN,KAAf","sourcesContent":["import {applyMiddleware, createStore} from \"redux\";\nimport reducer from \"../reducers/reducer\"\nimport reduxpromise from \"redux-promise\"\n\nlet initialState = JSON.parse(localStorage.getItem(\"cityList\")) || {cities : { }};\nlet store = createStore(reducer, initialState, applyMiddleware(reduxpromise));\n\nstore.subscribe(() => {\n    localStorage.setItem(\"cityList\", JSON.stringify(store.getState(), function (key, value) {\n        if (key === \"error\" || key === \"download\") {\n            return undefined\n        } else {\n            return value\n        }\n    }));\n});\n\nexport default store"]},"metadata":{},"sourceType":"module"}