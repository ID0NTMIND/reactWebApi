{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\idontmind\\\\Desktop\\\\web-labs-sem7-master\\\\lab2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\idontmind\\\\Desktop\\\\web-labs-sem7-master\\\\lab2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\idontmind\\\\Desktop\\\\web-labs-sem7-master\\\\lab2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\idontmind\\\\Desktop\\\\web-labs-sem7-master\\\\lab2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\idontmind\\\\Desktop\\\\web-labs-sem7-master\\\\lab2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{FavoriteCityHeader}from\"./FavoriteCityHeader\";import{CityInfo}from\"../CityCommon/CityInfo\";import UpdateCity from\"../../actions/UpdateCity\";import LoadCity from\"../../actions/LoadCity\";import DeleteCity from\"../../actions/DeleteCity\";import{connect}from\"react-redux\";export var FavoriteCity=/*#__PURE__*/function(_Component){_inherits(FavoriteCity,_Component);function FavoriteCity(props){var _this;_classCallCheck(this,FavoriteCity);_this=_possibleConstructorReturn(this,_getPrototypeOf(FavoriteCity).call(this,props));_this.state={error:false,download:!Boolean(props.cityInfo)};if(!props.cityInfo){props.update(props.name);}return _this;}_createClass(FavoriteCity,[{key:\"render\",value:function render(){var cityInfo=this.state.error?React.createElement(\"div\",{className:\"title-sm text-secondary ml-5\"},\"\\u041E\\u0439...\"):!this.state.download?React.createElement(CityInfo,{data:this.props.cityInfo}):React.createElement(\"div\",null,React.createElement(\"span\",{className:\"spinner-border text-secondary ml-5 m-1 spin\"}));return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"d-flex flex-row align-items-center\"},React.createElement(FavoriteCityHeader,{name:this.props.name,data:this.props.cityHeader,download:this.state.download,error:this.state.error}),React.createElement(\"div\",{className:\"ml-auto\"},React.createElement(\"button\",{className:\"btn btn-circle btn-secondary\",onClick:this.props.update.bind(null,this.props.name)},\"\\u21BA\"),React.createElement(\"button\",{className:\"btn btn-circle btn-secondary\",onClick:this.props.delete.bind(null,this.props.name)},\"X\"))),cityInfo);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){return{error:Boolean(props.error),download:Boolean(props.download||!Boolean(props.cityInfo))};}}]);return FavoriteCity;}(Component);function mapDispatchToProps(dispatch){return{update:function update(name){dispatch(UpdateCity(name));dispatch(LoadCity(name));},delete:function _delete(name){return dispatch(DeleteCity(name));}};}export default connect(null,mapDispatchToProps)(FavoriteCity);","map":{"version":3,"sources":["C:/Users/idontmind/Desktop/web-labs-sem7-master/lab2/src/components/Favorite/FavoriteCity.js"],"names":["React","Component","FavoriteCityHeader","CityInfo","UpdateCity","LoadCity","DeleteCity","connect","FavoriteCity","props","state","error","download","Boolean","cityInfo","update","name","cityHeader","bind","delete","mapDispatchToProps","dispatch"],"mappings":"ytBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,kBAAR,KAAiC,sBAAjC,CACA,OAAQC,QAAR,KAAuB,wBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CAGA,UAAaC,CAAAA,YAAb,sEAEI,sBAAYC,KAAZ,CAAmB,8CACf,8EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CAACC,KAAK,CAAE,KAAR,CAAeC,QAAQ,CAAE,CAACC,OAAO,CAACJ,KAAK,CAACK,QAAP,CAAjC,CAAb,CACA,GAAI,CAACL,KAAK,CAACK,QAAX,CAAqB,CACjBL,KAAK,CAACM,MAAN,CAAaN,KAAK,CAACO,IAAnB,EACH,CALc,aAMlB,CARL,gEAUa,CACL,GAAIF,CAAAA,QAAQ,CAAG,KAAKJ,KAAL,CAAWC,KAAX,CACT,2BAAK,SAAS,CAAE,8BAAhB,oBADS,CAET,CAAC,KAAKD,KAAL,CAAWE,QAAZ,CACI,oBAAC,QAAD,EAAU,IAAI,CAAE,KAAKH,KAAL,CAAWK,QAA3B,EADJ,CAEI,+BAAK,4BAAM,SAAS,CAAC,6CAAhB,EAAL,CAJV,CAKA,MAAO,gCACH,2BAAK,SAAS,CAAE,oCAAhB,EACI,oBAAC,kBAAD,EAAoB,IAAI,CAAE,KAAKL,KAAL,CAAWO,IAArC,CAA2C,IAAI,CAAE,KAAKP,KAAL,CAAWQ,UAA5D,CAAwE,QAAQ,CAAE,KAAKP,KAAL,CAAWE,QAA7F,CAAuG,KAAK,CAAE,KAAKF,KAAL,CAAWC,KAAzH,EADJ,CAEI,2BAAK,SAAS,CAAE,SAAhB,EACI,8BAAQ,SAAS,CAAE,8BAAnB,CAAmD,OAAO,CAAE,KAAKF,KAAL,CAAWM,MAAX,CAAkBG,IAAlB,CAAuB,IAAvB,CAA6B,KAAKT,KAAL,CAAWO,IAAxC,CAA5D,WADJ,CAEI,8BAAQ,SAAS,CAAE,8BAAnB,CAAmD,OAAO,CAAE,KAAKP,KAAL,CAAWU,MAAX,CAAkBD,IAAlB,CAAuB,IAAvB,CAA6B,KAAKT,KAAL,CAAWO,IAAxC,CAA5D,MAFJ,CAFJ,CADG,CAQFF,QARE,CAAP,CAUH,CA1BL,4EA4BoCL,KA5BpC,CA4B2CC,KA5B3C,CA4BkD,CAC1C,MAAO,CAACC,KAAK,CAAEE,OAAO,CAACJ,KAAK,CAACE,KAAP,CAAf,CAA8BC,QAAQ,CAAEC,OAAO,CAACJ,KAAK,CAACG,QAAN,EAAkB,CAACC,OAAO,CAACJ,KAAK,CAACK,QAAP,CAA3B,CAA/C,CAAP,CACH,CA9BL,0BAAkCb,SAAlC,EAiCA,QAASmB,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CAClC,MAAO,CACHN,MAAM,CAAE,gBAACC,IAAD,CAAU,CAACK,QAAQ,CAACjB,UAAU,CAACY,IAAD,CAAX,CAAR,CAA2BK,QAAQ,CAAChB,QAAQ,CAACW,IAAD,CAAT,CAAR,CAA0B,CADrE,CAEHG,MAAM,CAAE,iBAACH,IAAD,QAAUK,CAAAA,QAAQ,CAACf,UAAU,CAACU,IAAD,CAAX,CAAlB,EAFL,CAAP,CAIH,CAED,cAAeT,CAAAA,OAAO,CAAC,IAAD,CAAOa,kBAAP,CAAP,CAAkCZ,YAAlC,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport {FavoriteCityHeader} from \"./FavoriteCityHeader\";\nimport {CityInfo} from \"../CityCommon/CityInfo\";\nimport UpdateCity from \"../../actions/UpdateCity\"\nimport LoadCity from \"../../actions/LoadCity\";\nimport DeleteCity from \"../../actions/DeleteCity\";\nimport {connect} from \"react-redux\";\n\n\nexport class FavoriteCity extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {error: false, download: !Boolean(props.cityInfo)};\n        if (!props.cityInfo) {\n            props.update(props.name);\n        }\n    }\n\n    render() {\n        let cityInfo = this.state.error\n            ? <div className={\"title-sm text-secondary ml-5\"}>Ой...</div>\n            : !this.state.download\n                ? <CityInfo data={this.props.cityInfo}/>\n                : <div><span className=\"spinner-border text-secondary ml-5 m-1 spin\"/></div>;\n        return <div>\n            <div className={\"d-flex flex-row align-items-center\"}>\n                <FavoriteCityHeader name={this.props.name} data={this.props.cityHeader} download={this.state.download} error={this.state.error}/>\n                <div className={\"ml-auto\"}>\n                    <button className={\"btn btn-circle btn-secondary\"} onClick={this.props.update.bind(null, this.props.name)}>↺</button>\n                    <button className={\"btn btn-circle btn-secondary\"} onClick={this.props.delete.bind(null, this.props.name)}>X</button>\n                </div>\n            </div>\n            {cityInfo}\n        </div>\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        return {error: Boolean(props.error), download: Boolean(props.download || !Boolean(props.cityInfo))}\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        update: (name) => {dispatch(UpdateCity(name));dispatch(LoadCity(name));},\n        delete: (name) => dispatch(DeleteCity(name))\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(FavoriteCity)"]},"metadata":{},"sourceType":"module"}